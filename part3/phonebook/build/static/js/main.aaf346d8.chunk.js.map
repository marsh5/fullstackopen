{"version":3,"sources":["services/persons.js","components/Notifcation.js","components/Filter.js","components/PersonForm.js","components/Persons.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObj","post","id","person","put","delete","Notification","message","style","slice","color","borderStyle","boderRadis","padding","marginBottom","background","Filter","filter","handleFilter","value","onChange","PersonForm","addRecord","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","type","Persons","persons","handleDelete","map","el","name","toLowerCase","includes","number","onClick","App","useState","setPersons","setNewName","setNewNumber","setFilter","errorMessage","setErrorMessage","useEffect","personService","ev","target","event","preventDefault","cur","length","concat","setTimeout","window","confirm","changedPerson","console","log","catch","error","parseInt","curPer","find","ReactDOM","render","document","getElementById"],"mappings":"+KACMA,EAAU,eAuBD,EArBI,WAEf,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAmB9B,EAhBA,SAAAC,GAEX,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAc9B,EAXA,SAACG,EAAIC,GAEhB,OADgBR,IAAMS,IAAN,UAAaV,EAAb,YAAwBQ,GAAMC,GAC/BN,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAS9B,EANM,SAACG,EAAIC,GAEtB,OADgBR,IAAMU,OAAN,UAAgBX,EAAhB,YAA2BQ,GAAMC,GAClCN,QCYFS,EA9BI,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAmBpB,OAAgB,OAAZA,EACK,KAGL,qBAAKC,MAA+B,gBAAxBD,EAAQE,MAAM,EAAE,IAbV,CAClBC,MAAO,MACPC,YAAa,QACbC,WAAY,EACZC,QAAS,GACTC,aAAc,EACdC,WAAY,aAfM,CAClBL,MAAO,QACPC,YAAa,QACbC,WAAY,EACZC,QAAS,GACTC,aAAc,EACdC,WAAY,aAgBZ,SACGR,KChBMS,EARF,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,OAAQC,EAAmB,EAAnBA,aACtB,OACE,oDACmB,uBAAOC,MAAOF,EAAQG,SAAYF,QCc1CG,EAjBE,SAAC,GAA6E,IAA3EC,EAA0E,EAA1EA,UAAWC,EAA+D,EAA/DA,QAASC,EAAsD,EAAtDA,UAAWC,EAA2C,EAA3CA,iBAAkBC,EAAyB,EAAzBA,mBAEnE,OACE,uBAAMC,SAAUL,EAAhB,UACA,yCACQ,uBAAOH,MAAOI,EAASH,SAAWK,OAE1C,2CACU,uBAAON,MAAOK,EAAWJ,SAAWM,OAE9C,8BACE,wBAAQE,KAAK,SAAb,uBCESC,EAbD,SAAC,GAAqC,IAAnCC,EAAkC,EAAlCA,QAASb,EAAyB,EAAzBA,OAAQc,EAAiB,EAAjBA,aAChC,OACED,EAAQE,KAAI,SAAAC,GAEZ,OADQA,EAAGC,KAAKC,cACXC,SAASnB,EAAOkB,eAElB,gCAAkBF,EAAGC,KAArB,IAA4BD,EAAGI,OAA/B,IAAuC,wBAAQC,QAAWP,EAAcZ,MAAOc,EAAG/B,GAA3C,sBAA7B+B,EAAG/B,IAEJ,SCgHHqC,EAnHH,WAAO,IAAD,EACgBC,mBAAS,IADzB,mBACRV,EADQ,KACCW,EADD,OAEgBD,mBAAS,IAFzB,mBAERjB,EAFQ,KAECmB,EAFD,OAGoBF,mBAAS,IAH7B,mBAGRhB,EAHQ,KAGGmB,EAHH,OAIaH,mBAAS,IAJtB,mBAIRvB,EAJQ,KAIA2B,EAJA,OAK0BJ,mBAAS,MALnC,mBAKRK,EALQ,KAKMC,EALN,KAOhBC,qBAAU,WACNC,IACCnD,MAAK,SAAAE,GACJ0C,EAAW1C,QAGf,IA8EF,OACE,gCACE,2CAEA,cAAC,EAAD,CAAcQ,QAASsC,IACvB,cAAC,EAAD,CAAQ5B,OAAUA,EAAQC,aATV,SAAC+B,GACnBL,EAAUK,EAAGC,OAAO/B,UAUlB,2CAEA,cAAC,EAAD,CACAG,UAtFc,SAAC6B,GACjBA,EAAMC,iBACN,IAAMjD,EAAS2B,EAAQb,QAAO,SAACoC,GAAD,OAAQA,EAAInB,KAAKC,gBAAkBZ,EAAQY,iBACzE,GAAqB,IAAlBhC,EAAOmD,OA8BNN,EAJa,CACbd,KAAMX,EACNc,OAAQb,IAGL3B,MAAK,SAAAE,GACJ0C,EAAWX,EAAQyB,OAAOxD,IAC1B4C,EAAa,IACbD,EAAW,IACXI,EAAgB,GAAD,OAAI/C,EAAKmC,KAAT,oBACjBsB,YAAW,WACTV,EAAgB,QACjB,aArCL,GAAGW,OAAOC,QAAP,UAAkBnC,EAAlB,2EAAmG,CACpG,IAAMrB,EAAKC,EAAO,GAAGD,GACfyD,EAAa,2BAAQxD,EAAO,IAAf,IAAmBkC,OAAQb,IAkB5C,OAjBFoC,QAAQC,IAAI3D,QACZ8C,EAAqB9C,EAAIyD,GACxB9D,MAAK,SAAAE,GACJ0C,EAAWX,EAAQE,KAAI,SAAAC,GAAE,OAAIA,EAAG/B,KAAOA,EAAKH,EAAOkC,MACnDa,EAAgB,GAAD,OAAIa,EAAczB,KAAlB,0BACfsB,YAAW,WACTV,EAAgB,QACjB,KACDJ,EAAW,IACXC,EAAa,OAEdmB,OAAM,SAAAC,GACLjB,EAAgB,kBAAD,OAAmBa,EAAczB,KAAjC,8CACfsB,YAAW,WACTV,EAAgB,QACb,UAiETvB,QAAWA,EACXC,UAAaA,EACbC,iBAzBqB,SAAC0B,GACxBT,EAAWS,EAAMD,OAAO/B,QAyBtBO,mBAtBuB,SAACuB,GAC1BN,EAAaM,EAAGC,OAAO/B,UAuBrB,yCACC,8BACA,cAAC,EAAD,CAASW,QAAWA,EAASb,OAAUA,EAAQc,aAjD7B,SAACoB,GACpB,IAAMjD,EAAK8D,SAASb,EAAMD,OAAO/B,OAC3B8C,EAASnC,EAAQoC,MAAK,SAAAb,GAAG,OAAIA,EAAInD,KAAOA,KAE3CuD,OAAOC,QAAP,iBAAyBO,EAAO/B,KAAhC,OACDc,EAA2B9C,EAAI+D,GAChCpE,KAAK4C,EAAWX,EAAQb,QAAO,SAAAoC,GAAG,OAAIA,EAAInD,KAAOA,OACjD4D,OAAM,SAAAC,GACLjB,EAAgB,kBAAD,OACKmB,EAAO/B,KADZ,8CAGfsB,YAAW,WACTV,EAAgB,QACjB,iBC5ETqB,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.aaf346d8.chunk.js","sourcesContent":["import axios from 'axios';\nconst baseUrl = '/api/persons';\n\nconst getPersons = () => {\n    const request = axios.get(baseUrl);\n    return request.then(response => response.data);\n}\n\nconst create = newObj => {\n    const request = axios.post(baseUrl, newObj);\n    return request.then(response => response.data)\n}\n\nconst update = (id, person) => {\n    const request = axios.put(`${baseUrl}/${id}`, person);\n    return request.then(response => response.data);\n}\n\nconst deletePerson = (id, person) => {\n    const request = axios.delete(`${baseUrl}/${id}`, person);\n    return request.then();\n\n}\n\nexport default { getPersons, create, update, deletePerson }","import React from 'react';\n\nconst Notification = ({ message }) => {\n    const messageStyle1 = {\n        color: 'green',\n        borderStyle: 'solid',\n        boderRadis: 5,\n        padding: 10,\n        marginBottom: 5,\n        background: 'lightgrey'\n    }\n\n    const messageStyle2 = {\n        color: 'red',\n        borderStyle: 'solid',\n        boderRadis: 5,\n        padding: 10,\n        marginBottom: 5,\n        background: 'lightgrey'\n    }\n    \n    if (message === null){\n      return null\n    }else{\n      return(\n        <div style={message.slice(0,11) === 'Information' ? messageStyle2 : messageStyle1}>\n          {message}\n        </div>\n      )\n    } \n  }\n\n  export default Notification;","import React from 'react';\n\nconst Filter = ({ filter, handleFilter }) => {\n    return(\n      <div>\n        filter shown with<input value={filter} onChange = {handleFilter}/>\n      </div>\n    )\n  }\n\n  export default Filter;","import React from 'react';\n\nconst PersonForm = ({ addRecord, newName, newNumber, handleNameChange, handleNumberChange }) => {\n\n    return(\n      <form onSubmit={addRecord}>\n      <div>\n        name: <input value={newName} onChange ={handleNameChange}/>\n      </div>\n      <div>\n        number: <input value={newNumber} onChange ={handleNumberChange}/>\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n    )\n  }\n\n  export default PersonForm;\n  ","import React from 'react';\n\nconst Persons = ({ persons, filter, handleDelete}) =>{\n    return(\n      persons.map(el => {\n      let x = el.name.toLowerCase()\n      if(x.includes(filter.toLowerCase())){\n       return(\n         <div key={el.id}>{el.name} {el.number} <button onClick = {handleDelete} value={el.id}>delete</button></div>\n         )} else{\n           return null\n         }\n      }))\n  }\n\n  export default Persons;","import React, { useState, useEffect } from 'react';\nimport personService from './services/persons';\nimport Notification from './components/Notifcation';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]); \n  const [ newName, setNewName ] = useState('');\n  const [ newNumber, setNewNumber ] = useState('');\n  const [ filter, setFilter] = useState('');\n  const [ errorMessage, setErrorMessage ] = useState(null);\n\n  useEffect(()=> {\n      personService.getPersons()\n      .then(data => {\n        setPersons(data);\n      })\n      \n  },[]);\n\n  const addRecord = (event) => {\n    event.preventDefault();\n    const person = persons.filter((cur)=> cur.name.toLowerCase() === newName.toLowerCase());\n    if(person.length !== 0){\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\n        const id = person[0].id;\n        const changedPerson = { ...person[0], number: newNumber}\n        console.log(id);\n        personService.update(id, changedPerson)\n        .then(data => {\n          setPersons(persons.map(el => el.id === id ? data : el))\n          setErrorMessage(`${changedPerson.name}'s number has changed`);\n          setTimeout(()=> {\n            setErrorMessage(null)\n        }, 5000)\n          setNewName('');\n          setNewNumber('');\n        })\n        .catch(error => {\n          setErrorMessage(`Information of ${changedPerson.name} has already been removed from the server`);\n          setTimeout(()=> {\n            setErrorMessage(null)\n            }, 5000)\n        })\n          return\n        }else{\n          return\n        }\n      }\n      const newObj = {\n        name: newName,\n        number: newNumber\n      }\n        personService.create(newObj)\n          .then(data=> {\n            setPersons(persons.concat(data));\n            setNewNumber('');\n            setNewName('');\n            setErrorMessage(`${data.name} has been added`);\n          setTimeout(()=> {\n            setErrorMessage(null)\n        }, 5000)\n        })\n    }\n\n    const handleDelete = (event) => {\n      const id = parseInt(event.target.value);\n      const curPer = persons.find(cur => cur.id === id);\n\n      if(window.confirm(`Delete ${curPer.name}?`)){\n        personService.deletePerson(id, curPer)\n      .then(setPersons(persons.filter(cur => cur.id !== id)))\n      .catch(error => {\n        setErrorMessage(\n          `Information of ${curPer.name} has already been removed from the server`\n        )\n        setTimeout(()=> {\n          setErrorMessage(null)\n      }, 5000)\n      \n    }\n    )}\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  }\n\n  const handleNumberChange = (ev) => {\n    setNewNumber(ev.target.value);\n  }\n\n  const handleFilter =(ev) => {\n    setFilter(ev.target.value);\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={errorMessage} />\n      <Filter filter = {filter} handleFilter = {handleFilter} />\n        \n      <h2>Add a new</h2>\n\n      <PersonForm \n      addRecord = {addRecord} \n      newName = {newName} \n      newNumber = {newNumber}\n      handleNameChange = {handleNameChange}\n      handleNumberChange = {handleNumberChange}/>\n    \n      <h2>Numbers</h2>\n       <div>\n       <Persons persons = {persons} filter = {filter} handleDelete = {handleDelete}/>\n       </div>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}